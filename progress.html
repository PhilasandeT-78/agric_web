{% extends "layout.html" %}

{% block title %}
    Survey Progress
{% endblock %}

{% block content %}
    <h1>Your Survey Progress</h1>
    <div id="progressContainer">
        <div class="progress">
            <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                0%
            </div>
        </div>
    </div>

    <script>
        // Function to load progress data
        function loadProgress() {
            fetch('{{ url_for("main_routes.progress_data") }}')
            .then(response => response.json())
            .then(data => {
                const progressBar = document.getElementById('progressBar');
                progressBar.style.width = data.progress + '%';
                progressBar.setAttribute('aria-valuenow', data.progress);
                progressBar.textContent = data.progress + '%';
            })
            .catch(error => console.error('Error:', error));
        }

        // Load progress on page load
        document.addEventListener('DOMContentLoaded', loadProgress);
    </script>
{% endblock %}

